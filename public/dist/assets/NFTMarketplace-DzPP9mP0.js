import{r as S,j as r,B as T,L as R,q as H,H as Y,J as K,K as q,M as J}from"./index-C-veA1Rv.js";import{g as _,T as X,S as Z,N as Q,P as ee,a as te,C as re}from"./index-nTrm--sb.js";import{D as ae,b as ne,P as oe}from"./DataGridFooter-CqbU6PzW.js";import{A as se}from"./Alert-DQH5iZfd.js";import{T as w}from"./Typography-DNw0gmHs.js";import{C as ie}from"./Card-DUZ4M9b6.js";import{L as F}from"./Link-Dkvr2300.js";import"./Grow-DEkHVcDO.js";import"./useIsFocusVisible-SVz0b4Hl.js";import"./ButtonBase-DHTngUyU.js";import"./useTheme-CSbpYfTu.js";import"./KeyboardArrowRight-BWjR8Xyf.js";import"./TextField-CH6IKT9T.js";import"./dividerClasses-D34xdAHQ.js";import"./Tooltip-BeN_8m-j.js";import"./FormControlLabel-X_ttzFaA.js";import"./Button-BUtGUVw6.js";import"./Toolbar-u8AobN1J.js";import"./useSlot-Db2Wk8V8.js";function le(C){let{swiper:e,extendParams:v,on:h,emit:p,params:f}=C;e.autoplay={running:!1,paused:!1,timeLeft:0},v({autoplay:{enabled:!1,delay:3e3,waitForTransition:!0,disableOnInteraction:!1,stopOnLastSlide:!1,reverseDirection:!1,pauseOnMouseEnter:!1}});let g,D,E=f&&f.autoplay?f.autoplay.delay:3e3,x=f&&f.autoplay?f.autoplay.delay:3e3,d,b=new Date().getTime(),t,a,c,l,u,o,s;function m(n){!e||e.destroyed||!e.wrapperEl||n.target===e.wrapperEl&&(e.wrapperEl.removeEventListener("transitionend",m),!(s||n.detail&&n.detail.bySwiperTouchMove)&&N())}const i=()=>{if(e.destroyed||!e.autoplay.running)return;e.autoplay.paused?t=!0:t&&(x=d,t=!1);const n=e.autoplay.paused?d:b+x-new Date().getTime();e.autoplay.timeLeft=n,p("autoplayTimeLeft",n,n/E),D=requestAnimationFrame(()=>{i()})},M=()=>{let n;return e.virtual&&e.params.virtual.enabled?n=e.slides.filter(y=>y.classList.contains("swiper-slide-active"))[0]:n=e.slides[e.activeIndex],n?parseInt(n.getAttribute("data-swiper-autoplay"),10):void 0},L=n=>{if(e.destroyed||!e.autoplay.running)return;cancelAnimationFrame(D),i();let k=typeof n>"u"?e.params.autoplay.delay:n;E=e.params.autoplay.delay,x=e.params.autoplay.delay;const y=M();!Number.isNaN(y)&&y>0&&typeof n>"u"&&(k=y,E=y,x=y),d=k;const P=e.params.speed,z=()=>{!e||e.destroyed||(e.params.autoplay.reverseDirection?!e.isBeginning||e.params.loop||e.params.rewind?(e.slidePrev(P,!0,!0),p("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(e.slides.length-1,P,!0,!0),p("autoplay")):!e.isEnd||e.params.loop||e.params.rewind?(e.slideNext(P,!0,!0),p("autoplay")):e.params.autoplay.stopOnLastSlide||(e.slideTo(0,P,!0,!0),p("autoplay")),e.params.cssMode&&(b=new Date().getTime(),requestAnimationFrame(()=>{L()})))};return k>0?(clearTimeout(g),g=setTimeout(()=>{z()},k)):requestAnimationFrame(()=>{z()}),k},$=()=>{b=new Date().getTime(),e.autoplay.running=!0,L(),p("autoplayStart")},A=()=>{e.autoplay.running=!1,clearTimeout(g),cancelAnimationFrame(D),p("autoplayStop")},j=(n,k)=>{if(e.destroyed||!e.autoplay.running)return;clearTimeout(g),n||(o=!0);const y=()=>{p("autoplayPause"),e.params.autoplay.waitForTransition?e.wrapperEl.addEventListener("transitionend",m):N()};if(e.autoplay.paused=!0,k){u&&(d=e.params.autoplay.delay),u=!1,y();return}d=(d||e.params.autoplay.delay)-(new Date().getTime()-b),!(e.isEnd&&d<0&&!e.params.loop)&&(d<0&&(d=0),y())},N=()=>{e.isEnd&&d<0&&!e.params.loop||e.destroyed||!e.autoplay.running||(b=new Date().getTime(),o?(o=!1,L(d)):L(),e.autoplay.paused=!1,p("autoplayResume"))},I=()=>{if(e.destroyed||!e.autoplay.running)return;const n=_();n.visibilityState==="hidden"&&(o=!0,j(!0)),n.visibilityState==="visible"&&N()},O=n=>{n.pointerType==="mouse"&&(o=!0,s=!0,!(e.animating||e.autoplay.paused)&&j(!0))},B=n=>{n.pointerType==="mouse"&&(s=!1,e.autoplay.paused&&N())},V=()=>{e.params.autoplay.pauseOnMouseEnter&&(e.el.addEventListener("pointerenter",O),e.el.addEventListener("pointerleave",B))},G=()=>{e.el&&typeof e.el!="string"&&(e.el.removeEventListener("pointerenter",O),e.el.removeEventListener("pointerleave",B))},U=()=>{_().addEventListener("visibilitychange",I)},W=()=>{_().removeEventListener("visibilitychange",I)};h("init",()=>{e.params.autoplay.enabled&&(V(),U(),$())}),h("destroy",()=>{G(),W(),e.autoplay.running&&A()}),h("_freeModeStaticRelease",()=>{(c||o)&&N()}),h("_freeModeNoMomentumRelease",()=>{e.params.autoplay.disableOnInteraction?A():j(!0,!0)}),h("beforeTransitionStart",(n,k,y)=>{e.destroyed||!e.autoplay.running||(y||!e.params.autoplay.disableOnInteraction?j(!0,!0):A())}),h("sliderFirstMove",()=>{if(!(e.destroyed||!e.autoplay.running)){if(e.params.autoplay.disableOnInteraction){A();return}a=!0,c=!1,o=!1,l=setTimeout(()=>{o=!0,c=!0,j(!0)},200)}}),h("touchEnd",()=>{if(!(e.destroyed||!e.autoplay.running||!a)){if(clearTimeout(l),clearTimeout(g),e.params.autoplay.disableOnInteraction){c=!1,a=!1;return}c&&e.params.cssMode&&N(),c=!1,a=!1}}),h("slideChange",()=>{e.destroyed||!e.autoplay.running||(u=!0)}),Object.assign(e.autoplay,{start:$,stop:A,pause:j,resume:N})}const ce=({data:C,columns:e,searchText:v="",pageSizeOptions:h=[4,10,20],defaultPageSize:p=4,checkboxSelection:f=!1,showFooter:g=!0,tableHeight:D})=>{const[E,x]=S.useState(0),[d,b]=S.useState(p),t=H,a=Y,c=K,l=q,u=C.map((s,m)=>({id:s.id??`row-${m}`,...s})),o=S.useMemo(()=>v?u.filter(s=>Object.values(s).some(m=>String(m).toLowerCase().includes(v.toLowerCase()))):u,[u,v]);return r.jsxs(T,{sx:{height:D,width:"100%",textAlign:"center",fontFamily:"Montserrat",backgroundColor:a[100]},children:[o.length===0&&r.jsx(R,{sx:{backgroundColor:t[500]}}),r.jsx(ae,{rows:o,columns:e,density:"standard",rowHeight:52,pagination:!0,page:E,pageSize:d,onPageChange:s=>x(s),onPageSizeChange:s=>b(s),rowsPerPageOptions:h,disableColumnMenu:!0,disableColumnSelector:!0,disableSelectionOnClick:!0,checkboxSelection:f,components:{Footer:g?ne:void 0,LoadingOverlay:()=>r.jsx(R,{sx:{backgroundColor:t[500]}}),Pagination:()=>r.jsx(T,{sx:{padding:"20px",width:"100%",display:"flex",justifyContent:"center","& .MuiPaginationItem-root":{color:l[500],fontFamily:"Montserrat"}},children:r.jsx(oe,{count:Math.ceil(o.length/d),page:E+1,onChange:(s,m)=>x(m-1)})})},sx:{"& .MuiDataGrid-root":{backgroundColor:a[100],fontFamily:"Montserrat",border:"none"},"& .MuiDataGrid-columnHeaders":{backgroundColor:t[700],color:a[100],fontWeight:700,fontFamily:"Montserrat",padding:"10px"},"& .MuiDataGrid-cell":{color:"#333",backgroundColor:a[100],padding:"10px",borderBottom:`1px solid ${c[200]}`},"& .MuiDataGrid-row:hover":{backgroundColor:c[100],cursor:"pointer"},"& .MuiDataGrid-footerContainer":{backgroundColor:a[100],color:"#333",fontFamily:"Montserrat",padding:"5px"},"& .MuiDataGrid-overlay":{backgroundColor:a[100]}}})]})},de={ethereum:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},uniswap:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},chainlink:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},matic:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},"axie-infinity":{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},sand:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},binancecoin:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},avax:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},"ftx-token":{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},decentraland:{url:"https://etherscan.io/token",type:"token",chain:"Ethereum"},bitcoin:{url:"https://blockchair.com/bitcoin",type:"coin",chain:"Bitcoin"},ripple:{url:"https://xrpscan.com",type:"coin",chain:"XRP Ledger"},litecoin:{url:"https://blockchair.com/litecoin",type:"coin",chain:"Litecoin"},cardano:{url:"https://explorer.cardano.org/en",type:"coin",chain:"Cardano"},polkadot:{url:"https://polkadot.subscan.io",type:"coin",chain:"Polkadot"},dogecoin:{url:"https://dogechain.info",type:"coin",chain:"Dogecoin"},solana:{url:"https://solscan.io",type:"coin",chain:"Solana"},tron:{url:"https://tronscan.org",type:"coin",chain:"TRON"},algorand:{url:"https://algoexplorer.io",type:"coin",chain:"Algorand"},monero:{url:"https://monerohash.com/explorer",type:"coin",chain:"Monero"},stellar:{url:"https://stellar.expert/explorer/public",type:"coin",chain:"Stellar"},vechain:{url:"https://explore.vechain.org",type:"coin",chain:"VeChain"},cosmos:{url:"https://www.mintscan.io/cosmos",type:"coin",chain:"Cosmos"},dash:{url:"https://chainz.cryptoid.info/dash",type:"coin",chain:"Dash"},zcash:{url:"https://explorer.z.cash",type:"coin",chain:"Zcash"},"ethereum-classic":{url:"https://blockscout.com/etc/mainnet",type:"coin",chain:"Ethereum Classic"},neo:{url:"https://explorer.n3o.one",type:"coin",chain:"NEO"},tezos:{url:"https://tzkt.io",type:"coin",chain:"Tezos"},elrond:{url:"https://explorer.elrond.com",type:"coin",chain:"Elrond"},terra:{url:"https://finder.terra.money/mainnet",type:"coin",chain:"Terra"},luna:{url:"https://finder.terra.money/mainnet",type:"coin",chain:"Terra"},blockstack:{url:"https://explorer.stacks.co",type:"coin",chain:"Stacks"}},ue={ethereum:"0x0000000000000000000000000000000000000000",uniswap:"0x1f9840a85d5af5bf1d1762f925bdaddc4201f984",chainlink:"0x514910771af9ca656af840dff83e8264ecf986ca",matic:"0x7d1afa7b718fb893db30a3abc0cfc608aacfebb0","axie-infinity":"0xbb0e17ef65f82ab018d8edd776e8dd940327b28b",sand:"0x3845badade8e6dff049820680d1f14bd3903a5d0",binancecoin:"0xB8c77482e45F1F44dE1745F52C74426C631bDD52",avax:"0x1CE0c2827e2eF5D5c2aA580D7367Af720520F04c","ftx-token":"0x50d1c9771902476076ecfc8b2a83ad6b9355a4c9",decentraland:"0x0f5d2fb29fb7d3cfee444a200298f468908cc942"},Ae=()=>{const[C,e]=S.useState(null),[v,h]=S.useState([]),[p,f]=S.useState(null),[g,D]=S.useState(!0),[E,x]=S.useState(!0),d="2JRDUZUAW4Y5NQ3JR9264EFYMCD14RYWEA";S.useEffect(()=>{let t=!0;const a=async()=>{console.log("CoinGecko API call started:",new Date().toISOString());try{const l="https://api.coingecko.com/api/v3/coins/markets",u=new URLSearchParams({vs_currency:"usd",ids:"bitcoin,ethereum,ripple,litecoin,cardano,polkadot,dogecoin,solana,binancecoin,uniswap,chainlink,tron,avax,matic,algorand,monero,stellar,vechain,cosmos,dash,zcash,ethereum-classic,ftx-token,neo,tezos,elrond,terra,luna,axie-infinity,sand,decentraland,blockstack"}),o=await fetch(`${l}?${u}`),s=await o.json();if(!t){console.log("Component unmounted, skipping crypto state update");return}if(o.ok){const m=s.map(i=>({id:i.id,name:i.name,symbol:i.symbol,current_price:Number(i.current_price),market_cap:Number(i.market_cap),total_volume:Number(i.total_volume),price_change_24h:Number(i.price_change_24h),price_change_percentage_24h:Number(i.price_change_percentage_24h),image:i.image}));e({assets:m})}else throw new Error("Failed to fetch cryptocurrency prices")}catch(l){if(console.error("Error fetching crypto prices:",l),!t)return;const u=l instanceof Error?l.message:"Failed to fetch crypto prices";f({message:u})}finally{t&&D(!1),console.log("CoinGecko API call completed:",new Date().toISOString())}},c=async()=>{console.log("Etherscan API call started:",new Date().toISOString());try{const l=[{address:"0xBC4CA0EdA7647A8aB7C2061c2E118A18a936f13D",name:"Bored Ape Yacht Club"},{address:"0xb47e3cd837dDF8e4c57F05d70Ab865de6e193BBB",name:"CryptoPunks"},{address:"0xED5AF388653567Af2f388E6224dC7C4b3241C544",name:"Azuki"},{address:"0x60E4d786628Fea6478F785A6d7e704777c86a7c6",name:"Mutant Ape Yacht Club"},{address:"0x7Bd29408f11D2bFC23c34f18275bBf23bB716Bc7",name:"Meebits"}],u=[];for(const o of l){const s=`https://api.etherscan.io/api?module=account&action=tokennfttx&contractaddress=${o.address}&sort=desc&apikey=${d}`;console.log(`Fetching transfers for ${o.name} (${o.address})`);const i=await(await fetch(s)).json();if(!t){console.log("Component unmounted, skipping NFT state update");return}i.status==="1"&&i.message==="OK"&&i.result.length>0?(console.log(`Found ${i.result.length} transfers for ${o.name}`),u.push(...i.result.slice(0,3))):(console.warn(`No transfers or error for ${o.name}: ${i.message}`,i),i.status!=="1"&&console.error(`API error for ${o.name}: Status ${i.status}, Message: ${i.message}`)),await new Promise(M=>setTimeout(M,200))}if(u.length===0)console.error("No transfers found for any contract"),f({message:"No recent NFT transfers found for the specified collections"});else{const o=u.sort((s,m)=>Number(m.timeStamp)-Number(s.timeStamp)).slice(0,15);console.log("Combined transfers:",o.map(s=>({tokenName:s.tokenName,tokenID:s.tokenID,timeStamp:new Date(Number(s.timeStamp)*1e3).toISOString()}))),h(o)}}catch(l){if(console.error("Error fetching NFT transfers:",l),!t)return;const u=l instanceof Error?l.message:"Failed to fetch NFT transfers";f({message:u})}finally{t&&x(!1),console.log("Etherscan API call completed:",new Date().toISOString())}};return a(),c(),()=>{t=!1,console.log("useEffect cleanup:",new Date().toISOString())}},[d]);const b=[{field:"name",headerName:"Coin",width:200,renderCell:t=>{const a=t.row;return r.jsxs(T,{sx:{display:"flex",alignItems:"center"},children:[r.jsx("img",{src:a.image,alt:a.name,style:{width:20,height:20,marginRight:8}}),a.name]})}},{field:"symbol",headerName:"Symbol",width:100},{field:"current_price",headerName:"Price (USD)",width:150,valueFormatter:({value:t})=>{const a=Number(t);return isNaN(a)?"N/A":`$${a.toFixed(2)}`}},{field:"market_cap",headerName:"Market Cap (USD)",width:200,valueFormatter:({value:t})=>{const a=Number(t);return isNaN(a)?"N/A":`$${a.toLocaleString()}`}},{field:"total_volume",headerName:"24h Volume (USD)",width:200,valueFormatter:({value:t})=>{const a=Number(t);return isNaN(a)?"N/A":`$${a.toLocaleString()}`}},{field:"price_change_percentage_24h",headerName:"24h Change (%)",width:150,valueFormatter:({value:t})=>{const a=Number(t);return isNaN(a)?"N/A":`${a.toFixed(2)}%`}},{field:"trade_link",headerName:"Explorer Link",width:200,renderCell:t=>{const a=t.row.id,c=de[a];if(c){if(c.type==="token"){const l=ue[a];if(l)return r.jsx(F,{href:`${c.url}/${l}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main"},children:"View on Etherscan"})}else if(c.type==="coin")return r.jsxs(F,{href:c.url,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main"},children:["View on ",c.chain," Explorer"]})}return r.jsx("span",{children:"Not available"})}}];return g||E?r.jsx(J,{sx:{display:"block",margin:"auto",mt:4}}):p?r.jsx(se,{severity:"error",sx:{mt:4},children:p.message}):r.jsxs(T,{sx:{width:"100%",display:"flex",flexDirection:"column",gap:4},children:[r.jsx("style",{children:`
        .swiper {
          padding-bottom: 48px;
        }
        .swiper-button-next,
        .swiper-button-prev {
          color: #1976d2 !important;
        }
        .swiper-button-next:after,
        .swiper-button-prev:after {
          font-size: 24px !important;
        }
        .swiper-pagination-bullet {
          background-color: rgba(0, 0, 0, 0.54) !important;
        }
        .swiper-pagination-bullet-active {
          background-color: #1976d2 !important;
        }
      `}),r.jsx(X,{}),r.jsxs(T,{children:[r.jsx(w,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"text.primary"},children:"Cryptocurrency Prices"}),r.jsx(ce,{data:(C==null?void 0:C.assets)||[],columns:b,defaultPageSize:10,pageSizeOptions:[5,10,20],checkboxSelection:!1,showFooter:!0,tableHeight:600})]}),r.jsxs(T,{children:[r.jsx(w,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"text.primary"},children:"Recent NFT Transfers"}),v.length>0?r.jsx(T,{sx:{margin:"16px 0",padding:"0 8px"},children:r.jsx(Z,{modules:[Q,ee,le],spaceBetween:20,slidesPerView:1,navigation:!0,pagination:{clickable:!0},autoplay:{delay:5e3,disableOnInteraction:!1},breakpoints:{640:{slidesPerView:1},768:{slidesPerView:2},1024:{slidesPerView:3}},children:v.map((t,a)=>r.jsx(te,{children:r.jsx(ie,{sx:{maxWidth:345,mx:"auto",borderRadius:3,boxShadow:"0 4px 20px rgba(0, 0, 0, 0.1)",background:"linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%)",transition:"transform 0.3s ease, box-shadow 0.3s ease","&:hover":{transform:"scale(1.05)",boxShadow:"0 8px 30px rgba(0, 0, 0, 0.2)"}},children:r.jsxs(re,{sx:{p:3},children:[r.jsx(w,{variant:"h6",gutterBottom:!0,sx:{fontWeight:"bold",color:"text.primary",textAlign:"center",mb:2},children:t.tokenName||"Unknown NFT"}),r.jsxs(w,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.9rem"},children:[r.jsx("strong",{children:"Token ID:"})," ",t.tokenID]}),r.jsxs(w,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.9rem"},children:[r.jsx("strong",{children:"From:"})," ",r.jsxs(F,{href:`https://etherscan.io/address/${t.from}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[t.from.slice(0,6),"...",t.from.slice(-4)]})]}),r.jsxs(w,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.9rem"},children:[r.jsx("strong",{children:"To:"})," ",r.jsxs(F,{href:`https://etherscan.io/address/${t.to}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[t.to.slice(0,6),"...",t.to.slice(-4)]})]}),r.jsxs(w,{variant:"body2",sx:{color:"text.secondary",mb:1,fontSize:"0.9rem"},children:[r.jsx("strong",{children:"Timestamp:"})," ",new Date(Number(t.timeStamp)*1e3).toLocaleString()]}),r.jsxs(w,{variant:"body2",sx:{color:"text.secondary",mb:2,fontSize:"0.9rem"},children:[r.jsx("strong",{children:"Transaction:"})," ",r.jsxs(F,{href:`https://etherscan.io/tx/${t.hash}`,target:"_blank",rel:"noopener noreferrer",sx:{color:"primary.main",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:[t.hash.slice(0,6),"...",t.hash.slice(-4)]})]}),r.jsx(F,{href:`https://etherscan.io/token/${t.contractAddress}`,target:"_blank",rel:"noopener noreferrer",sx:{display:"block",textAlign:"center",color:"primary.main",fontWeight:"bold",textDecoration:"none","&:hover":{textDecoration:"underline"}},children:"View Collection on Etherscan"})]})})},`${t.hash}-${a}`))})}):r.jsx(w,{variant:"body1",color:"text.secondary",children:"No recent NFT transfers available."})]})]})};export{Ae as default};
