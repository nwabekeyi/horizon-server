import{r as j,_ as Y,j as e,a as C,g as De,b as Ee,s as J,c as Be,d as G,u as ue,e as Fe,f as N,h as xe,I as z,B as P,S as h,p as U,i as Re,k as ee,l as te,P as Se,E as he,m as Te,n as Ae}from"./index-C-veA1Rv.js";import{L as q,a as X,C as Le,M as Me}from"./multiStepFlow-C657kt1P.js";import{L as $}from"./Link-Dkvr2300.js";import{g as ze,M as W}from"./KeyboardArrowRight-BWjR8Xyf.js";import{M as Ue,L as $e,a as fe,F as Ne,I as We,S as He,b as Oe,T as _e}from"./TextField-CH6IKT9T.js";import{I as re,L as Ve}from"./logo-white-CYvtNPS9.js";import{B as K}from"./Button-BUtGUVw6.js";import{T as a}from"./Typography-DNw0gmHs.js";import{P as Ye,B as oe}from"./ButtonBase-DHTngUyU.js";import{u as ge}from"./useTheme-CSbpYfTu.js";import{d as Ge,o as je,T as Je,r as qe,g as ce,I as Q}from"./Grow-DEkHVcDO.js";import{u as Xe}from"./useIsFocusVisible-SVz0b4Hl.js";import{u as Ke}from"./useUserdetails-B_CkXpGQ.js";import{C as L,D as Qe}from"./modal-Cq9y4NFa.js";import{u as ye,D as Ze,a as et,b as tt}from"./useApi-hqwvaQFr.js";import{u as V}from"./TabPanel-B4NRPBBp.js";import{r as rt}from"./createSvgIcon-CsDoeLsQ.js";import{A as Z}from"./Avatar-ixKJs6sO.js";import{A as ot}from"./Account-vuG7oa-d.js";import{D as nt}from"./Divider-BdkZDBHz.js";import{T as le}from"./Toolbar-u8AobN1J.js";import{I as st}from"./InputAdornment-BVYIlHg7.js";import{F as it}from"./index-ClSCEk6E.js";import"./listItemButtonClasses-CYKo87jA.js";import"./dividerClasses-D34xdAHQ.js";import"./tslib.es6-xyAoBO8G.js";import"./useSlot-Db2Wk8V8.js";import"./index-B9-GP8Fy.js";import"./iconBase-Bz53TZrF.js";import"./Card-DUZ4M9b6.js";const at=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function ct(o,r,t){const n=r.getBoundingClientRect(),c=t&&t.getBoundingClientRect(),m=je(r);let l;if(r.fakeTransform)l=r.fakeTransform;else{const s=m.getComputedStyle(r);l=s.getPropertyValue("-webkit-transform")||s.getPropertyValue("transform")}let p=0,u=0;if(l&&l!=="none"&&typeof l=="string"){const s=l.split("(")[1].split(")")[0].split(",");p=parseInt(s[4],10),u=parseInt(s[5],10)}return o==="left"?c?`translateX(${c.right+p-n.left}px)`:`translateX(${m.innerWidth+p-n.left}px)`:o==="right"?c?`translateX(-${n.right-c.left-p}px)`:`translateX(-${n.left+n.width-p}px)`:o==="up"?c?`translateY(${c.bottom+u-n.top}px)`:`translateY(${m.innerHeight+u-n.top}px)`:c?`translateY(-${n.top-c.top+n.height-u}px)`:`translateY(-${n.top+n.height-u}px)`}function lt(o){return typeof o=="function"?o():o}function _(o,r,t){const n=lt(t),c=ct(o,r,n);c&&(r.style.webkitTransform=c,r.style.transform=c)}const dt=j.forwardRef(function(r,t){const n=ge(),c={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},m={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:l,appear:p=!0,children:u,container:s,direction:y="down",easing:k=c,in:v,onEnter:b,onEntered:B,onEntering:f,onExit:F,onExited:R,onExiting:D,style:x,timeout:w=m,TransitionComponent:M=Je}=r,S=Y(r,at),I=j.useRef(null),i=Xe(u.ref,I,t),g=d=>E=>{d&&(E===void 0?d(I.current):d(I.current,E))},T=g((d,E)=>{_(y,d,s),qe(d),b&&b(d,E)}),A=g((d,E)=>{const ae=ce({timeout:w,style:x,easing:k},{mode:"enter"});d.style.webkitTransition=n.transitions.create("-webkit-transform",C({},ae)),d.style.transition=n.transitions.create("transform",C({},ae)),d.style.webkitTransform="none",d.style.transform="none",f&&f(d,E)}),H=g(B),O=g(D),we=g(d=>{const E=ce({timeout:w,style:x,easing:k},{mode:"exit"});d.style.webkitTransition=n.transitions.create("-webkit-transform",E),d.style.transition=n.transitions.create("transform",E),_(y,d,s),F&&F(d)}),Ie=g(d=>{d.style.webkitTransition="",d.style.transition="",R&&R(d)}),Ce=d=>{l&&l(I.current,d)},ie=j.useCallback(()=>{I.current&&_(y,I.current,s)},[y,s]);return j.useEffect(()=>{if(v||y==="down"||y==="right")return;const d=Ge(()=>{I.current&&_(y,I.current,s)}),E=je(I.current);return E.addEventListener("resize",d),()=>{d.clear(),E.removeEventListener("resize",d)}},[y,v,s]),j.useEffect(()=>{v||ie()},[v,ie]),e.jsx(M,C({nodeRef:I,onEnter:T,onEntered:H,onEntering:A,onExit:we,onExited:Ie,onExiting:O,addEndListener:Ce,appear:p,in:v,timeout:w},S,{children:(d,E)=>j.cloneElement(u,C({ref:i,style:C({visibility:d==="exited"&&!v?"hidden":void 0},x,u.props.style)},E))}))});function pt(o){return De("MuiDrawer",o)}Ee("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const mt=["BackdropProps"],ut=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],be=(o,r)=>{const{ownerState:t}=o;return[r.root,(t.variant==="permanent"||t.variant==="persistent")&&r.docked,r.modal]},xt=o=>{const{classes:r,anchor:t,variant:n}=o,c={root:["root"],docked:[(n==="permanent"||n==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${G(t)}`,n!=="temporary"&&`paperAnchorDocked${G(t)}`]};return xe(c,pt,r)},ht=J(Ue,{name:"MuiDrawer",slot:"Root",overridesResolver:be})(({theme:o})=>({zIndex:(o.vars||o).zIndex.drawer})),de=J("div",{shouldForwardProp:Be,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:be})({flex:"0 0 auto"}),ft=J(Ye,{name:"MuiDrawer",slot:"Paper",overridesResolver:(o,r)=>{const{ownerState:t}=o;return[r.paper,r[`paperAnchor${G(t.anchor)}`],t.variant!=="temporary"&&r[`paperAnchorDocked${G(t.anchor)}`]]}})(({theme:o,ownerState:r})=>C({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(o.vars||o).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},r.anchor==="left"&&{left:0},r.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},r.anchor==="right"&&{right:0},r.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},r.anchor==="left"&&r.variant!=="temporary"&&{borderRight:`1px solid ${(o.vars||o).palette.divider}`},r.anchor==="top"&&r.variant!=="temporary"&&{borderBottom:`1px solid ${(o.vars||o).palette.divider}`},r.anchor==="right"&&r.variant!=="temporary"&&{borderLeft:`1px solid ${(o.vars||o).palette.divider}`},r.anchor==="bottom"&&r.variant!=="temporary"&&{borderTop:`1px solid ${(o.vars||o).palette.divider}`})),ve={left:"right",right:"left",top:"down",bottom:"up"};function gt(o){return["left","right"].indexOf(o)!==-1}function jt({direction:o},r){return o==="rtl"&&gt(r)?ve[r]:r}const pe=j.forwardRef(function(r,t){const n=ue({props:r,name:"MuiDrawer"}),c=ge(),m=Fe(),l={enter:c.transitions.duration.enteringScreen,exit:c.transitions.duration.leavingScreen},{anchor:p="left",BackdropProps:u,children:s,className:y,elevation:k=16,hideBackdrop:v=!1,ModalProps:{BackdropProps:b}={},onClose:B,open:f=!1,PaperProps:F={},SlideProps:R,TransitionComponent:D=dt,transitionDuration:x=l,variant:w="temporary"}=n,M=Y(n.ModalProps,mt),S=Y(n,ut),I=j.useRef(!1);j.useEffect(()=>{I.current=!0},[]);const i=jt({direction:m?"rtl":"ltr"},p),T=C({},n,{anchor:p,elevation:k,open:f,variant:w},S),A=xt(T),H=e.jsx(ft,C({elevation:w==="temporary"?k:0,square:!0},F,{className:N(A.paper,F.className),ownerState:T,children:s}));if(w==="permanent")return e.jsx(de,C({className:N(A.root,A.docked,y),ownerState:T,ref:t},S,{children:H}));const O=e.jsx(D,C({in:f,direction:ve[i],timeout:x,appear:I.current},R,{children:H}));return w==="persistent"?e.jsx(de,C({className:N(A.root,A.docked,y),ownerState:T,ref:t},S,{children:O})):e.jsx(ht,C({BackdropProps:C({},u,b,{transitionDuration:x}),className:N(A.root,A.modal,y),open:f,ownerState:T,onClose:B,hideBackdrop:v,ref:t},S,M,{children:O}))}),yt=["className"],bt=o=>{const{alignItems:r,classes:t}=o;return xe({root:["root",r==="flex-start"&&"alignItemsFlexStart"]},ze,t)},vt=J("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(o,r)=>{const{ownerState:t}=o;return[r.root,t.alignItems==="flex-start"&&r.alignItemsFlexStart]}})(({theme:o,ownerState:r})=>C({minWidth:56,color:(o.vars||o).palette.action.active,flexShrink:0,display:"inline-flex"},r.alignItems==="flex-start"&&{marginTop:8})),ne=j.forwardRef(function(r,t){const n=ue({props:r,name:"MuiListItemIcon"}),{className:c}=n,m=Y(n,yt),l=j.useContext($e),p=C({},n,{alignItems:l.alignItems}),u=bt(p);return e.jsx(vt,C({className:N(u.root,c),ownerState:p,ref:t},m))}),Pt=({subheader:o,path:r,icon:t,active:n,handleDrawerClose:c})=>e.jsxs(q,{component:$,href:r,sx:{bgcolor:n?"info.main":null},onClick:c,children:[e.jsx(ne,{children:t&&e.jsx(z,{icon:t,sx:{color:n?"primary.main":null}})}),e.jsx(X,{primary:o,sx:{"& .MuiListItemText-primary":{color:n?"primary.main":null}}})]}),kt=({subheader:o,active:r,items:t,icon:n,handleDrawerClose:c})=>{const[m,l]=j.useState(!1),p=()=>{l(!m)};return e.jsxs(P,{sx:{pb:1.5},children:[e.jsxs(q,{onClick:p,children:[e.jsx(ne,{children:n&&e.jsx(z,{icon:n,sx:{color:r?"primary.main":null}})}),e.jsx(X,{primary:o,sx:{"& .MuiListItemText-primary":{color:r?"primary.main":null}}}),e.jsx(z,{icon:"iconamoon:arrow-down-2-duotone",sx:{color:r?"primary.main":"text.disabled",transform:m?"rotate(180deg)":"rotate(0deg)",transition:"transform 0.2s ease-in-out"}})]}),e.jsx(Le,{in:m,timeout:"auto",unmountOnExit:!0,children:e.jsx(fe,{component:"div",disablePadding:!0,children:t==null?void 0:t.map(u=>e.jsx(q,{component:$,href:u.path,sx:{ml:2.25,bgcolor:u.active?"info.main":null},onClick:c,children:e.jsx(X,{primary:u.pathName,sx:{"& .MuiListItemText-primary":{color:"text.disabled"}}})},u.pathName))})})]})},Pe="/assets/logo-main-CNJ6IQ0S.png",wt=()=>e.jsx(h,{alignItems:"center",justifyContent:"center",height:94,width:94,border:4,borderColor:"info.lighter",borderRadius:"50%",position:"absolute",top:0,left:"50%",sx:o=>({background:`linear-gradient(135deg, ${o.palette.gradients.primary.state} 0%, ${o.palette.gradients.primary.main} 100%)`,transform:"translate(-50%, -50%)"}),children:e.jsx(re,{src:Ve,sx:{width:65,height:40}})}),It=()=>e.jsxs(h,{alignItems:"center",direction:"column",position:"relative",borderRadius:6,width:1,pt:8,pb:6,mt:"auto",sx:o=>({background:`linear-gradient(135deg, ${o.palette.gradients.primary.state} 0%, ${o.palette.gradients.primary.main} 100%)`,position:"relative"}),children:[e.jsx(wt,{}),e.jsx(K,{sx:{color:"info.lighter",fontWeight:700},children:"Upgrade your Income"}),e.jsxs(a,{variant:"body2",color:"info.main",lineHeight:1.75,children:["make your dream a reality ",e.jsx("br",{}),"invest and earn"]})]}),Ct=[{id:1,subheader:"Dashboard",path:U.dashboard,icon:"ic:round-dashboard",active:!0},{id:2,subheader:"Profile",path:`${U.dashboard}/profile`,icon:"ic:baseline-person"},{id:3,subheader:"Investments",path:`${U.dashboard}/investment`,icon:"ic:baseline-trending-up",active:!0},{id:4,subheader:"Marketplace",path:`${U.dashboard}/nft-marketplace`,icon:"ic:baseline-shopping-cart"},{id:5,subheader:"Withdrawal History",path:`${U.dashboard}/transaction-history`,icon:"ic:round-history"},{id:6,subheader:"Referral Program",path:`${U.dashboard}/referral-program`,icon:"ic:baseline-card-giftcard"}],me=({handleDrawerClose:o})=>{const t=Re().pathname;return e.jsxs(e.Fragment,{children:[e.jsx(P,{pt:5,pb:4.5,px:4.5,justifyContent:"center",position:"sticky",top:0,borderBottom:1,borderColor:"info.main",bgcolor:"info.lighter",zIndex:1e3,width:"100%",display:"flex",children:e.jsx(oe,{component:$,href:"/",disableRipple:!0,children:e.jsx(re,{src:Pe,alt:"logo",height:60,width:100,sx:{mr:1.75}})})}),e.jsx(fe,{component:"nav",sx:{mt:2.5,mb:10,p:0,pl:3},children:Ct.map(n=>{const c=t===n.path;return n.items?e.jsx(kt,{...n,active:c,handleDrawerClose:o},n.id):e.jsx(Pt,{...n,active:c,handleDrawerClose:o},n.id)})}),e.jsx(P,{mt:"auto",px:3,pt:15,pb:5,children:e.jsx(It,{})})]})},Dt=({mobileOpen:o,setMobileOpen:r,setIsClosing:t})=>{const n=()=>{t(!0),r(!1)},c=()=>{t(!1)};return e.jsxs(P,{component:"nav",width:{lg:290},flexShrink:{lg:0},display:{xs:"none",lg:"block"},children:[e.jsx(pe,{variant:"temporary",open:o,onTransitionEnd:c,onClose:n,ModalProps:{keepMounted:!0},sx:{display:{xs:"block",lg:"none"}},children:e.jsx(me,{handleDrawerClose:n})}),e.jsx(pe,{variant:"permanent",sx:{display:{xs:"none",lg:"block"}},open:!0,children:e.jsx(me,{})})]})},Et=({open:o,handleClose:r})=>{var w,M,S,I;const[t,n]=j.useState({documentFront:null,documentBack:null,addressProof:null,documentType:""}),[c,m]=j.useState(null),{error:l,loading:p,callApi:u}=ye(),s=ee(i=>i.user.user),y=te(),k=((w=s==null?void 0:s.kyc)==null?void 0:w.documentFront)&&((M=s==null?void 0:s.kyc)==null?void 0:M.documentBack)&&((S=s==null?void 0:s.kyc)==null?void 0:S.addressProof)&&((I=s==null?void 0:s.kyc)==null?void 0:I.documentType),v=(s==null?void 0:s.status)==="verified"&&k,b=V({onFileAccepted:i=>{console.log("Document Front:",{name:i.name,type:i.type,size:i.size}),n(g=>({...g,documentFront:i}))},onFileRejected:i=>{console.log("Document Front rejected:",i),m(i)},maxCompressedSizeMB:5}),B=V({onFileAccepted:i=>{console.log("Document Back:",{name:i.name,type:i.type,size:i.size}),n(g=>({...g,documentBack:i}))},onFileRejected:i=>{console.log("Document Back rejected:",i),m(i)},maxCompressedSizeMB:5}),f=V({onFileAccepted:i=>{console.log("Address Proof:",{name:i.name,type:i.type,size:i.size}),n(g=>({...g,addressProof:i}))},onFileRejected:i=>{console.log("Address Proof rejected:",i),m(i)},maxCompressedSizeMB:5}),F=i=>{n(g=>({...g,documentType:i.target.value}))},R=async()=>{if(!t.documentFront||!t.documentBack||!t.addressProof||!t.documentType||!(s!=null&&s._id)){m("Please upload all required documents, select a document type, and ensure user is logged in.");return}if(!D(t.documentFront)||!D(t.documentBack)||!D(t.addressProof)){m("All files must be JPEG, PNG, or WebP images.");return}const i=new FormData;i.append("documentFront",t.documentFront,t.documentFront.name),i.append("documentBack",t.documentBack,t.documentBack.name),i.append("addressProof",t.addressProof,t.addressProof.name),i.append("documentType",t.documentType),i.append("userId",s._id);for(const[g,T]of i.entries())console.log(`${g}:`,T);try{const g=await u({url:he.VERIFICATION_SUBMISSION,method:"PUT",body:i,headers:{}});y({type:"user/login/fulfilled",payload:{user:g.user,token:null}}),r()}catch(g){console.error("API Error:",g),m("Failed to submit verification documents. Please try again.")}},D=i=>!!i&&["image/jpeg","image/png","image/webp"].includes(i.type);if(p)return e.jsx(Se,{});if(k&&!v)return e.jsx(L,{open:o,onCancel:r,title:"KYC Status",noConfirm:!0,children:e.jsxs(P,{sx:{p:2},children:[e.jsx(a,{variant:"h6",color:"primary",children:"You have completed KYC, waiting for verification."}),e.jsx(a,{variant:"body2",mt:1,children:"Your documents have been submitted and are under review. You will be notified once the verification process is complete."})]})});if(v)return e.jsx(L,{open:o,onCancel:r,title:"Verification Complete",noConfirm:!0,children:e.jsxs(P,{sx:{p:2},children:[e.jsx(a,{variant:"h6",color:"success.main",children:"User is already verified."}),e.jsxs(a,{variant:"body2",mt:1,children:["Your KYC verification was completed on"," ",s.kyc.verifiedAt?new Date(s.kyc.verifiedAt).toLocaleDateString():"N/A","."]}),e.jsxs(P,{mt:2,children:[e.jsx(a,{variant:"subtitle1",children:"Submitted Documents:"}),e.jsxs(h,{spacing:2,mt:1,children:[e.jsx(P,{children:e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Document Type:"})," ",s.kyc.documentType||"N/A"]})}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(a,{variant:"body2",children:e.jsx("strong",{children:"Front of ID:"})}),s.kyc.documentFront&&e.jsx("img",{src:s.kyc.documentFront,alt:"Front of ID",style:{maxWidth:"100px",maxHeight:"100px"}})]}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(a,{variant:"body2",children:e.jsx("strong",{children:"Back of ID:"})}),s.kyc.documentBack&&e.jsx("img",{src:s.kyc.documentBack,alt:"Back of ID",style:{maxWidth:"100px",maxHeight:"100px"}})]}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsx(a,{variant:"body2",children:e.jsx("strong",{children:"Proof of Address:"})}),s.kyc.addressProof&&e.jsx("img",{src:s.kyc.addressProof,alt:"Proof of Address",style:{maxWidth:"100px",maxHeight:"100px"}})]})]})]})]})});const x=[{label:"ID Card",content:e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"body1",children:"Please upload the front and back of your ID card."}),e.jsxs(Ne,{fullWidth:!0,children:[e.jsx(We,{id:"document-type-label",children:"Document Type"}),e.jsxs(He,{labelId:"document-type-label",value:t.documentType,label:"Document Type",onChange:F,children:[e.jsx(W,{value:"passport",children:"Passport"}),e.jsx(W,{value:"driver_license",children:"Driver's License"}),e.jsx(W,{value:"national_id",children:"National ID"})]})]}),e.jsxs(P,{...b.getRootProps(),sx:{border:"2px dashed #ccc",padding:2,textAlign:"center",bgcolor:b.isDragActive?"#f0f0f0":"transparent",cursor:"pointer"},children:[e.jsx("input",{...b.getInputProps()}),t.documentFront?e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[D(t.documentFront)&&e.jsx("img",{src:URL.createObjectURL(t.documentFront),alt:"Front Preview",style:{maxWidth:"100px",maxHeight:"100px"}}),e.jsxs(a,{children:["Front: ",t.documentFront.name]})]}):e.jsx(a,{children:"Drag or click to upload front of ID (JPEG, PNG, WEBP)"})]}),e.jsxs(P,{...B.getRootProps(),sx:{border:"2px dashed #ccc",padding:2,textAlign:"center",bgcolor:B.isDragActive?"#f0f0f0":"transparent",cursor:"pointer"},children:[e.jsx("input",{...B.getInputProps()}),t.documentBack?e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[D(t.documentBack)&&e.jsx("img",{src:URL.createObjectURL(t.documentBack),alt:"Back Preview",style:{maxWidth:"100px",maxHeight:"100px"}}),e.jsxs(a,{children:["Back: ",t.documentBack.name]})]}):e.jsx(a,{children:"Drag or click to upload back of ID (JPEG, PNG, WEBP)"})]})]}),validate:()=>!!t.documentFront&&!!t.documentBack&&!!t.documentType},{label:"Proof of Address",content:e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"body1",children:"Please upload a proof of address (e.g., utility bill, bank statement)."}),e.jsxs(P,{...f.getRootProps(),sx:{border:"2px dashed #ccc",padding:2,textAlign:"center",bgcolor:f.isDragActive?"#f0f0f0":"transparent",cursor:"pointer"},children:[e.jsx("input",{...f.getInputProps()}),t.addressProof?e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",justifyContent:"center",children:[D(t.addressProof)&&e.jsx("img",{src:URL.createObjectURL(t.addressProof),alt:"Address Proof Preview",style:{maxWidth:"100px",maxHeight:"100px"}}),e.jsx(a,{children:t.addressProof.name})]}):e.jsx(a,{children:"Drag or click to upload proof of address (JPEG, PNG, WEBP)"})]})]}),validate:()=>!!t.addressProof},{label:"Summary",content:e.jsxs(e.Fragment,{children:[e.jsx(a,{variant:"body1",children:"Review your submitted documents:"}),e.jsxs(P,{children:[e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"User ID:"})," ",(s==null?void 0:s._id)||"Not available"]}),e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Document Type:"})," ",t.documentType||"Not selected"]}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Front of ID:"})," ",t.documentFront?t.documentFront.name:"Not uploaded"]}),D(t.documentFront)&&t.documentFront&&e.jsx("img",{src:URL.createObjectURL(t.documentFront),alt:"Front Preview",style:{maxWidth:"50px",maxHeight:"50px"}})]}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Back of ID:"})," ",t.documentBack?t.documentBack.name:"Not uploaded"]}),D(t.documentBack)&&t.documentBack&&e.jsx("img",{src:URL.createObjectURL(t.documentBack),alt:"Back Preview",style:{maxWidth:"50px",maxHeight:"50px"}})]}),e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[e.jsxs(a,{variant:"body2",children:[e.jsx("strong",{children:"Proof of Address:"})," ",t.addressProof?t.addressProof.name:"Not uploaded"]}),D(t.addressProof)&&t.addressProof&&e.jsx("img",{src:URL.createObjectURL(t.addressProof),alt:"Address Proof Preview",style:{maxWidth:"50px",maxHeight:"50px"}})]})]}),c&&e.jsx(a,{color:"error",variant:"body2",children:c}),l&&e.jsx(a,{color:"error",variant:"body2",children:l.message})]})}];return e.jsx(L,{open:o,onCancel:r,title:"Verify Account",noConfirm:!0,children:e.jsx(Me,{steps:x,onSubmit:R})})};var se={},Bt=Te;Object.defineProperty(se,"__esModule",{value:!0});var ke=se.default=void 0,Ft=Bt(rt()),Rt=e;ke=se.default=(0,Ft.default)((0,Rt.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit");const St=({open:o,handleClose:r})=>{const t=ee(x=>x.user.user),n=te(),[c,m]=j.useState(!1),[l,p]=j.useState(null),[u,s]=j.useState(null),{error:y,loading:k,callApi:v}=ye(),b=V({onFileAccepted:x=>{console.log("Accepted file:",{name:x.name,type:x.type,size:x.size}),p(x)},onFileRejected:x=>{console.log("File rejected:",x),s(x)},maxCompressedSizeMB:5}),B=()=>{m(!0)},f=()=>{m(!1),p(null),s(null)},F=async()=>{if(!l){s("Please upload a profile picture.");return}if(!R(l)){s("Invalid file type. Please upload a JPEG, PNG, or WebP image.");return}if(!(t!=null&&t._id)){s("User ID is not available.");return}const x=new FormData;x.append("profilePicture",l,l.name);for(const[w,M]of x.entries())console.log(`${w}:`,M);try{const w=await v({url:`${he.USERS}/${t._id}`,method:"PUT",body:x,headers:{}});n({type:"user/login/fulfilled",payload:{user:w.user,token:null}}),f()}catch(w){console.error("API Error:",w),s("Failed to update profile picture. Please try again.")}},R=x=>!!x&&["image/jpeg","image/png","image/webp"].includes(x.type);if(!t)return e.jsx(L,{open:o,onCancel:r,title:"Your Profile",noConfirm:!0,children:e.jsx(P,{sx:{p:2},children:e.jsx(a,{variant:"body1",color:"error",children:"User data not available. Please log in."})})});const D=t.dateJoined?new Date(t.dateJoined).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"User has not updated status";return e.jsx(L,{open:o,onCancel:r,title:"Your Profile",noConfirm:!0,children:e.jsxs(P,{sx:{p:2},children:[e.jsxs(h,{direction:"column",spacing:3,alignItems:"center",children:[e.jsxs(P,{position:"relative",children:[e.jsx(Z,{src:t.profilePicture||void 0,alt:`${t.firstName||"User"} ${t.lastName||""}`,sx:{width:100,height:100}}),e.jsx(Q,{onClick:B,sx:{position:"absolute",bottom:0,right:0,bgcolor:"grey.300","&:hover":{bgcolor:"grey.400"}},children:e.jsx(ke,{})})]}),e.jsxs(h,{direction:"column",spacing:1,sx:{width:"100%"},children:[e.jsxs(a,{variant:"body1",children:[e.jsx("strong",{children:"First Name:"})," ",t.firstName||"User has not updated status"]}),e.jsxs(a,{variant:"body1",children:[e.jsx("strong",{children:"Last Name:"})," ",t.lastName||"User has not updated status"]}),e.jsxs(a,{variant:"body1",children:[e.jsx("strong",{children:"Email:"})," ",t.email||"User has not updated status"]}),e.jsxs(a,{variant:"body1",children:[e.jsx("strong",{children:"Status:"})," ",t.status||"User has not updated status"]}),e.jsxs(a,{variant:"body1",children:[e.jsx("strong",{children:"Date Joined:"})," ",D]})]})]}),e.jsxs(Ze,{open:c,onClose:f,children:[e.jsx(Qe,{children:"Update Profile Picture"}),e.jsxs(et,{children:[e.jsxs(P,{...b.getRootProps(),sx:{border:"2px dashed #ccc",padding:2,textAlign:"center",bgcolor:b.isDragActive?"#f0f0f0":"transparent",cursor:"pointer",minHeight:"150px",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("input",{...b.getInputProps()}),l?e.jsxs(h,{direction:"row",spacing:2,alignItems:"center",children:[R(l)&&e.jsx("img",{src:URL.createObjectURL(l),alt:"Profile Picture Preview",style:{maxWidth:"100px",maxHeight:"100px"}}),e.jsx(a,{children:l.name})]}):e.jsx(a,{children:"Drag or click to upload a new profile picture (JPEG, PNG, WEBP)"})]}),u&&e.jsx(a,{color:"error",variant:"body2",sx:{mt:1},children:u}),y&&e.jsx(a,{color:"error",variant:"body2",sx:{mt:1},children:y.message})]}),e.jsxs(tt,{children:[e.jsx(K,{onClick:f,disabled:k,children:"Cancel"}),e.jsx(K,{onClick:F,variant:"contained",disabled:k,children:k?"Uploading...":"Submit"})]})]})]})})},Tt=({open:o,handleClose:r})=>{const t=ee(n=>n.user.user);return e.jsx(L,{open:o,onCancel:r,title:"Account Settings",children:e.jsx("div",{children:e.jsx(ot,{user:t})})})},At=({open:o,handleClose:r})=>e.jsx(L,{open:o,onCancel:r,title:"Notifications",noConfirm:!0,children:e.jsx("div",{children:"Your notification preferences..."})}),Lt=({open:o,handleClose:r})=>e.jsx(L,{open:o,onCancel:r,title:"Help Center",noConfirm:!0,children:e.jsx("div",{children:"How can we help you?"})}),Mt=({open:o,handleClose:r})=>{const t=te(),n=()=>{t(Ae()),r()};return e.jsx(L,{open:o,onCancel:r,onConfirm:n,title:"Confirm Logout",children:e.jsx("div",{children:"Are you sure you want to log out?"})})},zt=()=>{const[o,r]=j.useState(null),t=!!o,[n,c]=j.useState(null),m=Ke(),{firstName:l,lastName:p,email:u,profilePicture:s}=m||{},y=f=>{r(f.currentTarget)},k=()=>{r(null)},v=f=>{c(f),k()},b=()=>{c(null)},B=[{id:1,title:"View Profile",icon:"material-symbols:account-circle-outline",onClick:()=>v("viewProfile")},{id:2,title:"Account Settings",icon:"material-symbols:settings-account-box-outline-rounded",onClick:()=>v("accountSettings")},{id:6,title:"Verification",icon:"material-symbols:verified-user-outline",onClick:()=>v("verification")},{id:7,title:"Logout",icon:"material-symbols:logout",onClick:()=>v("logout")}];return e.jsxs(e.Fragment,{children:[e.jsx(oe,{onClick:y,"aria-controls":t?"account-menu":void 0,"aria-expanded":t?"true":void 0,"aria-haspopup":"true",disableRipple:!0,children:e.jsx(Z,{src:s||void 0,sx:{height:44,width:44,bgcolor:"primary.main"},children:!s&&`${(l==null?void 0:l[0])||""}${(p==null?void 0:p[0])||""}`})}),e.jsxs(Oe,{anchorEl:o,id:"account-menu",open:t,onClose:k,onClick:k,sx:{mt:1.5,"& .MuiList-root":{p:0,width:230}},transformOrigin:{horizontal:"right",vertical:"top"},anchorOrigin:{horizontal:"right",vertical:"bottom"},children:[e.jsx(P,{p:1,children:e.jsxs(W,{onClick:k,sx:{"&:hover":{bgcolor:"info.dark"}},children:[e.jsx(Z,{src:s||void 0,sx:{mr:1,height:42,width:42},children:!s&&`${(l==null?void 0:l[0])||""}${(p==null?void 0:p[0])||""}`}),e.jsx(h,{direction:"row",spacing:2,alignItems:"center",children:e.jsxs(h,{direction:"column",children:[e.jsxs(a,{variant:"body2",color:"text.primary",fontWeight:600,children:[l," ",p]}),e.jsx(a,{variant:"caption",color:"text.secondary",fontWeight:400,children:u})]})})]})}),e.jsx(nt,{sx:{my:0}}),e.jsx(P,{p:1,children:B.map(f=>e.jsxs(W,{onClick:f.onClick,sx:{py:1},children:[e.jsx(ne,{sx:{mr:1,color:"text.secondary",fontSize:"h5.fontSize"},children:e.jsx(z,{icon:f.icon})}),e.jsx(a,{variant:"body2",color:"text.secondary",fontWeight:500,children:f.title})]},f.id))})]}),e.jsx(St,{open:n==="viewProfile",handleClose:b}),e.jsx(Tt,{open:n==="accountSettings",handleClose:b}),e.jsx(At,{open:n==="notifications",handleClose:b}),e.jsx(Lt,{open:n==="helpCenter",handleClose:b}),e.jsx(Et,{open:n==="verification",handleClose:b}),e.jsx(Mt,{open:n==="logout",handleClose:b})]})},Ut=({isClosing:o,mobileOpen:r,setMobileOpen:t})=>{const n=()=>{o||t(!r)};return e.jsxs(h,{direction:"column",width:"100%",bgcolor:"transparent",zIndex:1200,sx:{overflow:"hidden"},children:[e.jsxs(h,{direction:{xs:"column",sm:"row"},alignItems:"center",justifyContent:{xs:"center",sm:"space-between"},bgcolor:"primary.light",color:"primary.contrastText",px:{xs:2,sm:3},py:1,width:"100%",borderBottom:1,borderColor:"divider",children:[e.jsxs(a,{variant:"body2",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"},mb:{xs:.5,sm:0}},children:["Email:"," ",e.jsx($,{href:"mailto:support@horizon.com",color:"inherit",underline:"hover",children:"247activetrading@proton.me"})]}),e.jsxs(a,{variant:"body2",sx:{fontSize:{xs:"0.75rem",sm:"0.875rem"}},children:["Phone:"," ",e.jsx($,{href:"tel:+2341234567890",color:"inherit",underline:"hover",children:"+1-917-268-6276"})]})]}),e.jsxs(h,{height:90,alignItems:"center",justifyContent:"space-between",direction:"row",px:{xs:2,sm:3},width:"100%",children:[e.jsxs(h,{spacing:{xs:1.5,sm:2},alignItems:"center",direction:"row",children:[e.jsx(oe,{component:$,href:"/",disableRipple:!0,sx:{lineHeight:0,display:{xs:"none",sm:"block",lg:"none"}},children:e.jsx(re,{src:Pe,alt:"logo",height:44,width:44})}),e.jsx(le,{sx:{display:{xs:"block",lg:"none"}},children:e.jsx(Q,{size:"large",edge:"start",color:"inherit","aria-label":"menu",onClick:n,children:e.jsx(z,{icon:"ic:baseline-menu"})})}),e.jsx(le,{sx:{display:{xs:"block",md:"none"}},children:e.jsx(Q,{size:"large",edge:"start",color:"inherit","aria-label":"search",children:e.jsx(z,{icon:"bx:search"})})}),e.jsx(_e,{variant:"filled",placeholder:"Search",sx:{width:320,display:{xs:"none",md:"flex"}},InputProps:{endAdornment:e.jsx(st,{position:"end",children:e.jsx(z,{icon:"bx:search"})})}})]}),e.jsx(h,{spacing:{xs:1.5,sm:2},alignItems:"center",direction:"row",children:e.jsx(zt,{})})]})]})},hr=({children:o})=>{const[r,t]=j.useState(!1),[n,c]=j.useState(!1);return e.jsxs(h,{width:1,minHeight:"calc(100vh - 162px)",children:[e.jsx(Dt,{mobileOpen:r,setMobileOpen:t,setIsClosing:c}),e.jsxs(h,{component:"main",direction:"column",px:3.5,flexGrow:1,width:{xs:1,lg:"calc(100% - 290px)",minHeight:"100%"},children:[e.jsx(Ut,{isClosing:n,mobileOpen:r,setMobileOpen:t}),o,e.jsx(it,{})]})]})};export{hr as default};
